import{A as _,r as p,g as o,b as n,e as t,t as i,u as a,h as u,i as f,F as w,k,W as v,d as y,w as C,P as N}from"./app-DeD_P_YC.js";import{o as A}from"./index-DZAsz5v4.js";const D={class:"bg-blue-600 text-white p-4 flex justify-between items-center"},R={class:"flex items-center space-x-4"},V={class:"text-sm font-semibold"},j={key:0,class:"absolute -top-1 -right-2 bg-red-600 text-white text-xs rounded-full px-1"},B={key:0,class:"absolute right-0 mt-2 w-64 bg-white border rounded shadow-lg z-50"},M={class:"p-3 border-b font-bold flex justify-between items-center"},F={key:0},H={class:"text-xs text-gray-500"},W={__name:"Header",emits:["toggleMenu"],setup(L,{emit:x}){const s=_(),l=p(!1),d=p(null);console.log(s);const b=()=>{l.value=!l.value},m=()=>{v.put(route("notifications.readAll"))};A(d,()=>{l.value=!1});const g=x;return(h,e)=>{var c;return n(),o("header",D,[e[4]||(e[4]=t("h1",{class:"text-xl font-bold"},"RenderHub Cliente",-1)),t("div",R,[t("span",V,i(a(s).props.auth.user.name),1),t("div",{class:"relative inline-block text-left",ref_key:"dropdownRef",ref:d},[t("button",{onClick:b,class:"text-2xl hover:text-yellow-400 relative"},[e[1]||(e[1]=f(" ðŸ”” ")),a(s).props.auth.notifications_count>0?(n(),o("span",j,i(a(s).props.auth.notifications_count),1)):u("",!0)]),l.value?(n(),o("div",B,[t("div",M,[e[2]||(e[2]=f(" Notificaciones ")),a(s).props.auth.notifications_count>0?(n(),o("button",{key:0,class:"text-xs text-blue-500 hover:underline",onClick:m}," Marcar todas ")):u("",!0)]),(c=a(s).props.auth.notifications)!=null&&c.length?(n(),o("ul",F,[(n(!0),o(w,null,k(a(s).props.auth.notifications,r=>(n(),o("li",{key:r.id,class:"px-4 py-2 border-b text-sm text-gray-900 hover:bg-gray-100"},[y(a(N),{href:h.route("notifications.view",r.id)},{default:C(()=>[t("span",null,i(r.mensaje),1),e[3]||(e[3]=t("br",null,null,-1)),t("span",H,i(new Date(r.created_at).toLocaleString()),1)]),_:2},1032,["href"])]))),128))])):u("",!0)])):u("",!0)],512)]),t("button",{onClick:e[0]||(e[0]=r=>g("toggleMenu")),class:"md:hidden"},"â˜°")])}}};export{W as default};
