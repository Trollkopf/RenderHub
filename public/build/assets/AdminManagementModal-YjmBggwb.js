import{C as x,g as r,b as i,e,f as g,j as d,v as a,u as o,F as y,k as v,t as u,W as p}from"./app-DeD_P_YC.js";const w={class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},k={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl relative"},h={key:0},A={class:"w-full text-left border"},q={class:"p-2"},C={class:"p-2"},D={class:"p-2"},E={class:"p-2 text-center"},_=["onClick","disabled"],M={key:1,class:"text-gray-500"},$={__name:"AdminManagementModal",props:{admins:Array},emits:["close"],setup(b,{emit:N}){const m=b,l=x({name:"",email:"",password:""}),c=()=>{p.post(route("admin.users.store"),l,{onSuccess:()=>l.reset()})},f=n=>{confirm("¿Estás seguro de que quieres eliminar este administrador?")&&p.delete(route("admin.users.destroy",n))};return(n,s)=>(i(),r("div",w,[e("div",k,[s[9]||(s[9]=e("h2",{class:"text-2xl font-bold mb-4"},"👷 Gestión de Administradores",-1)),e("button",{onClick:s[0]||(s[0]=t=>n.$emit("close")),class:"absolute top-2 right-2 text-gray-600 hover:text-black text-xl"},"×"),e("form",{onSubmit:g(c,["prevent"]),class:"space-y-4 mb-6"},[e("div",null,[s[4]||(s[4]=e("label",{class:"block font-semibold"},"Nombre",-1)),d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o(l).name=t),type:"text",class:"w-full border rounded p-2",required:""},null,512),[[a,o(l).name]])]),e("div",null,[s[5]||(s[5]=e("label",{class:"block font-semibold"},"Email",-1)),d(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o(l).email=t),type:"email",class:"w-full border rounded p-2",required:""},null,512),[[a,o(l).email]])]),e("div",null,[s[6]||(s[6]=e("label",{class:"block font-semibold"},"Contraseña",-1)),d(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o(l).password=t),type:"password",class:"w-full border rounded p-2",required:""},null,512),[[a,o(l).password]])]),s[7]||(s[7]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"}," Añadir ")],-1))],32),s[10]||(s[10]=e("h3",{class:"text-xl font-semibold mb-2"},"Administradores actuales",-1)),m.admins.length?(i(),r("div",h,[e("table",A,[s[8]||(s[8]=e("thead",{class:"bg-gray-100 text-sm"},[e("tr",null,[e("th",{class:"p-2"},"Nombre"),e("th",{class:"p-2"},"Email"),e("th",{class:"p-2"},"Desde"),e("th",{class:"p-2 text-center"},"Acción")])],-1)),e("tbody",null,[(i(!0),r(y,null,v(m.admins,t=>(i(),r("tr",{key:t.id,class:"border-t text-sm"},[e("td",q,u(t.name),1),e("td",C,u(t.email),1),e("td",D,u(new Date(t.created_at).toLocaleDateString()),1),e("td",E,[e("button",{onClick:S=>f(t.id),class:"text-red-500 hover:underline text-sm",disabled:t.id===n.$page.props.auth.user.id}," Eliminar ",8,_)])]))),128))])])])):(i(),r("p",M,"No hay administradores registrados."))])]))}};export{$ as default};
